{"ast":null,"code":"import _slicedToArray from\"/home/deepakgoyal/React/expense-tracker/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState}from\"react\";// import axios from 'react'\n// import  useNavigate from 'react-router-dom'\n// import {useNavigate} from 'react-router-dom';\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var AddTransactions=function AddTransactions(_ref){var setData=_ref.setData;//  const setData = props.fun;\nvar _useState=useState(''),_useState2=_slicedToArray(_useState,2),body=_useState2[0],setBody=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),amount=_useState4[0],setAmount=_useState4[1];var newValue={};var transaction={body:body,amount:amount};// console.log(transaction);\nvar handleClick=function handleClick(e){e.preventDefault();fetch('http://localhost:8080/transactions',{method:'POST',headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(transaction)// body : transaction\n}).then(function(){console.log(\"New Transaction added\",transaction);});// axios.post('http://localhost:8080/transactions',transaction)\n// .then(()=> {\n//     console.log(\"New blog added-> \", transaction, JSON.stringify(transaction))\n// })\nfetch('http://localhost:8080/transactions',{method:'GET',headers:{\"Content-Type\":\"application/json\"}}).then(function(data){return data.json();}).then(function(res){newValue=res;setData(newValue);});setBody('');setAmount(0);};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Add new transaction\"}),/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-control\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"text\",children:\"Text\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:body!==null&&body!==void 0?body:'',onChange:function onChange(e){return setBody(e.target.value);},placeholder:\"Enter text...\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-control\",children:[/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"amount\",children:[\"Amount \",/*#__PURE__*/_jsx(\"br\",{}),\"(negative - expense, positive - income)\"]}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:amount!==null&&amount!==void 0?amount:0,onChange:function onChange(e){return setAmount(e.target.value);},placeholder:\"Enter amount...\"})]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn\",onClick:handleClick,children:\"Add transaction\"})]})]});};export default AddTransactions;","map":{"version":3,"names":["useState","AddTransactions","setData","body","setBody","amount","setAmount","newValue","transaction","handleClick","e","preventDefault","fetch","method","headers","JSON","stringify","then","console","log","data","json","res","target","value"],"sources":["/home/deepakgoyal/React/expense-tracker/src/components/AddTransactions.js"],"sourcesContent":["import { useState } from \"react\";\n// import axios from 'react'\n// import  useNavigate from 'react-router-dom'\n// import {useNavigate} from 'react-router-dom';\n\nconst AddTransactions = ({setData}) => {\n\n  //  const setData = props.fun;\n\n    const [body, setBody] = useState('');\n    const [amount, setAmount] = useState(0);\n\n    let newValue = {};\n\n    const transaction = {body,amount};\n    // console.log(transaction);\n    const handleClick = (e) =>{\n        e.preventDefault();\n\n        fetch('http://localhost:8080/transactions',{\n            method : 'POST',\n            headers: {\"Content-Type\" : \"application/json\"},\n            body : JSON.stringify(transaction)\n\n            // body : transaction\n        }).then(()=> {\n            console.log(\"New Transaction added\", transaction)\n        })\n\n\n        // axios.post('http://localhost:8080/transactions',transaction)\n        // .then(()=> {\n        //     console.log(\"New blog added-> \", transaction, JSON.stringify(transaction))\n        // })\n\n\n        fetch('http://localhost:8080/transactions',{\n            method : 'GET',\n            headers: {\"Content-Type\" : \"application/json\"},\n        }).then((data)=> {\n            return data.json();\n        }).then((res) => {\n            newValue = res;\n            setData(newValue);\n        })\n\n        setBody('');\n        setAmount(0);\n        \n        \n    }\n\n    return (\n        <div>\n            <h3>Add new transaction</h3>\n            <form>\n                <div className=\"form-control\">\n                    <label htmlFor=\"text\">Text</label>\n                    <input type=\"text\" value = {body ?? ''} onChange = {(e) => setBody(e.target.value)} placeholder=\"Enter text...\" />\n                </div>\n                <div className=\"form-control\">\n                    <label htmlFor=\"amount\"\n                    >Amount <br />\n                        (negative - expense, positive - income)</label\n                    >\n                    <input type=\"number\" value = {amount ?? 0} onChange = {(e) => setAmount(e.target.value)} placeholder=\"Enter amount...\" />\n                </div>\n                <button className=\"btn\" onClick={handleClick}>Add transaction</button>\n            </form>\n            {/* {console.log(\"now \",body, amount)} */}\n        </div>\n    )\n}\n\nexport default AddTransactions;"],"mappings":"6HAAA,OAASA,QAAQ,KAAQ,OAAO,CAChC;AACA;AACA;AAAA,wFAEA,GAAMC,gBAAe,CAAG,QAAlBA,gBAAe,MAAkB,IAAbC,QAAO,MAAPA,OAAO,CAE/B;AAEE,cAAwBF,QAAQ,CAAC,EAAE,CAAC,wCAA7BG,IAAI,eAAEC,OAAO,eACpB,eAA4BJ,QAAQ,CAAC,CAAC,CAAC,yCAAhCK,MAAM,eAAEC,SAAS,eAExB,GAAIC,SAAQ,CAAG,CAAC,CAAC,CAEjB,GAAMC,YAAW,CAAG,CAACL,IAAI,CAAJA,IAAI,CAACE,MAAM,CAANA,MAAM,CAAC,CACjC;AACA,GAAMI,YAAW,CAAG,QAAdA,YAAW,CAAIC,CAAC,CAAI,CACtBA,CAAC,CAACC,cAAc,EAAE,CAElBC,KAAK,CAAC,oCAAoC,CAAC,CACvCC,MAAM,CAAG,MAAM,CACfC,OAAO,CAAE,CAAC,cAAc,CAAG,kBAAkB,CAAC,CAC9CX,IAAI,CAAGY,IAAI,CAACC,SAAS,CAACR,WAAW,CAEjC;AACJ,CAAC,CAAC,CAACS,IAAI,CAAC,UAAK,CACTC,OAAO,CAACC,GAAG,CAAC,uBAAuB,CAAEX,WAAW,CAAC,CACrD,CAAC,CAAC,CAGF;AACA;AACA;AACA;AAGAI,KAAK,CAAC,oCAAoC,CAAC,CACvCC,MAAM,CAAG,KAAK,CACdC,OAAO,CAAE,CAAC,cAAc,CAAG,kBAAkB,CACjD,CAAC,CAAC,CAACG,IAAI,CAAC,SAACG,IAAI,CAAI,CACb,MAAOA,KAAI,CAACC,IAAI,EAAE,CACtB,CAAC,CAAC,CAACJ,IAAI,CAAC,SAACK,GAAG,CAAK,CACbf,QAAQ,CAAGe,GAAG,CACdpB,OAAO,CAACK,QAAQ,CAAC,CACrB,CAAC,CAAC,CAEFH,OAAO,CAAC,EAAE,CAAC,CACXE,SAAS,CAAC,CAAC,CAAC,CAGhB,CAAC,CAED,mBACI,oCACI,oBAAI,qBAAmB,EAAK,cAC5B,qCACI,aAAK,SAAS,CAAC,cAAc,wBACzB,cAAO,OAAO,CAAC,MAAM,UAAC,MAAI,EAAQ,cAClC,cAAO,IAAI,CAAC,MAAM,CAAC,KAAK,CAAIH,IAAI,SAAJA,IAAI,UAAJA,IAAI,CAAI,EAAG,CAAC,QAAQ,CAAI,kBAACO,CAAC,QAAKN,QAAO,CAACM,CAAC,CAACa,MAAM,CAACC,KAAK,CAAC,EAAC,CAAC,WAAW,CAAC,eAAe,EAAG,GAChH,cACN,aAAK,SAAS,CAAC,cAAc,wBACzB,eAAO,OAAO,CAAC,QAAQ,WACtB,SAAO,2BAAM,0CAC6B,GAC1C,cACD,cAAO,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAInB,MAAM,SAANA,MAAM,UAANA,MAAM,CAAI,CAAE,CAAC,QAAQ,CAAI,kBAACK,CAAC,QAAKJ,UAAS,CAACI,CAAC,CAACa,MAAM,CAACC,KAAK,CAAC,EAAC,CAAC,WAAW,CAAC,iBAAiB,EAAG,GACvH,cACN,eAAQ,SAAS,CAAC,KAAK,CAAC,OAAO,CAAEf,WAAY,UAAC,iBAAe,EAAS,GACnE,GAEL,CAEd,CAAC,CAED,cAAeR,gBAAe"},"metadata":{},"sourceType":"module","externalDependencies":[]}